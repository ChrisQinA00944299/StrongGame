<div class="container">
	<h2>Games</h2>



	<div class="row panel" id="pnlListGames">

		<div class="col-md-12">


			<button class="btn btn-success btn-round float-right" onclick="games.addGame()">
				<i class="material-icons">add</i> New Game
			</button>
			<button class="btn btn-success btn-round float-right" onclick="games.browseGame()">
				<i class="material-icons">add</i> Browse Game
			</button>



			<div class="card">
				<div class="card-header card-header-primary card-header-icon">
					<div class="card-icon">
						<i class="material-icons">dashboard</i>
					</div>



				</div>

				<div class="card-body">

					<table class="table" id="tblGames">
						<thead>
						<tr>
							<th>Name</th>
							<th>Description</th>
							<th># Teams</th>
							<th># Questions</th>
							<th></th>
						</tr>
						</thead>
						<tbody>



						</tbody>
					</table>

				</div>


				<div class="card-footer">

				</div>
			</div>
		</div>
	</div>


	<div id="pnlGameForm" class="hide panel">

		<h3 id="lblGameFormTitle">Add a Game</h3>


		<div class="card">
			<div class="card-header card-header-text ">
				<div class="card-text">
					<h4 class="card-title" id="lblGameFrm">General Information</h4>
				</div>
			</div>

			<div class="card-body">

				<form id="frmGameInfo">

					<div class="form-group">
						<label for="txtTitle">Title</label>
						<input type="text" class="form-control" id="txtTitle" required placeholder="">
					</div>
					<div class="form-group">
						<label for="txtDescription">Description</label>
						<input type="text" class="form-control" id="txtDescription" placeholder="">
					</div>
					<div class="form-group">
						<label for="slctTheme">Theme</label>
						<select id="slctTheme" class="form-control selectpicker question-input" data-style="btn btn-dark" name="slctTheme"></select>
					</div>
					<br/>

				</form>
			</div>
		</div>


		<div class="card">
			<div class="card-header card-header-text ">
				<div class="card-text">
					<h4 class="card-title" id="lblGameFrm">Game Questions</h4>
				</div>
			</div>

			<div class="card-body">
				<div class="btn-group dropdown float-right">
					<button type="button" class="btn btn-primary btn-round btn-fab btn-fab-large dropdown-toggle float-right" id="dropType" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" rel="tooltip" title="Import a Question">
						<i class="material-icons">bookmark</i>
					</button>
					<ul class="dropdown-menu" aria-labelledby="dropType">

						<form class="px-4">
							<div class="row">
								<div class="input-group">
									<span><i class="material-icons py-2">search</i></span>
									<input type="text" class="form-control py-2" id="questionSearch" onchange="games.SearchQuestionsDropdown(document.getElementById(this.id).value)">
								</div>
							</div>
						</form>
						<!--<div class="dropdown-divider"></div>-->

						<li class="dropdown-submenu"><a class="dropdown-item dropdown-toggle" id="trivia" onclick="games.loadQuestions_dropdown(this.id)" href="#">Trivia</a>
							<ul class="dropdown-menu" id="triviaQuestions"></ul>
						</li>

						<li class="dropdown-submenu"><a class="dropdown-item dropdown-toggle" id="social" onclick="games.loadQuestions_dropdown(this.id)" href="#">Social</a>
							<ul class="dropdown-menu" id="socialQuestions"></ul>
						</li>

						<li class="dropdown-submenu"><a class="dropdown-item dropdown-toggle" id="image" onclick="games.loadQuestions_dropdown(this.id)" href="#">Image</a>
							<ul class="dropdown-menu" id="imageQuestions"></ul>
						</li>

						<li class="dropdown-submenu"><a class="dropdown-item dropdown-toggle" id="media" onclick="games.loadQuestions_dropdown(this.id)" href="#">Media</a>
							<ul class="dropdown-menu" id="mediaQuestions"></ul>
						</li>

						<li class="dropdown-sub3menu"><a class="dropdown-item dropdown-toggle" id="survey" onclick="games.loadQuestions_dropdown(this.id)" href="#">Survey</a>
							<ul class="dropdown-menu" id="surveyQuestions"></ul>
						</li>
					</ul>

					<button class="btn btn-success btn-round btn-fab btn-fab-large float-right" rel="tooltip" title="Add a Question" onclick="games.addQuestion()">
						<i class="material-icons">add</i>
					</button>

					<button type="button" class="btn btn-success btn-round btn-fab btn-fab-large float-right" rel="tooltip" title="Import questions"data-toggle="modal" data-target="#myModal">Import questions</button>


					<!-- Import Spreadsheet Modal -->
					<div class="modal fade" id="myModal" role="dialog">
				    <div class="modal-dialog modal-lg">
				      <div class="modal-content">
				        <div class="modal-header">
				          <button type="button" class="close" data-dismiss="modal">&times;</button>
				          <h4 class="modal-title">Import Strong Game from SpreadSheet</h4>
				        </div>
				        <div class="modal-body">
									<div class="file-upload-wrapper">
										<form method='post' action='' enctype="multipart/form-data">
						          Select file : <input type='file' name='file' id='file' class='form-control' ><br>
						          <input type='button' class='btn btn-info' value='Upload' id='btn_upload'>
						        </form>
									</div>
				        </div>
				        <div class="modal-footer">
									<button type="button" class="btn btn-default float-left"><a href="https://docs.google.com/spreadsheets/d/1fv7jmIUy0lbL_kY0UpkE3rrnV_MFBWHD5m_b7ej71pk/edit?usp=sharing">Default</a></button>
									&nbsp;&nbsp;&nbsp;
				          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				        </div>
				      </div>
				    </div>
				  </div>

				</div>


				<table class="table" id="tblQuestions">
					<thead>
					<tr>
						<th>Type</th>
						<th>Question</th>
						<th>Options</th>
						<th>Answer</th>
						<th></th>
					</tr>
					</thead>
					<tbody>


					</tbody>
				</table>

			</div>
		</div>


		<div class="card">
			<div class="card-header card-header-text ">
				<div class="card-text">
					<h4 class="card-title" id="lblGameFrm">Teams</h4>
				</div>
			</div>

			<div class="card-body">

				<button class="btn btn-success btn-round btn-fab btn-fab-large float-right" rel="tooltip" title="Add a Team" onclick="games.addTeam()">
					<i class="material-icons">add</i>
				</button>
				<table class="table" id="tblTeams">
					<thead>
					<tr>
						<th>Team</th>
						<th></th>
					</tr>
					</thead>
					<tbody>


					</tbody>
				</table>

			</div>
		</div>



		<div class="card">
			<div class="card-header card-header-text ">
				<div class="card-text">
					<h4 class="card-title" id="lblGameFrm">Game Timings</h4>
				</div>
			</div>

			<div class="card-body">


				<div class="form-group">
					<label for="txtSecStart">Seconds before start</label>
					<input type="text" class="form-control" id="txtSecStart" placeholder="" value="30">
				</div>
				<div class="form-group">
					<label for="txtSecTrivia">Seconds per question</label>
					<input type="text" class="form-control" id="txtSecTrivia" placeholder="" value="30">
				</div>
				<!--
				<div class="form-group">
					<label for="txtSecSocial">Seconds per social question</label>
					<input type="text" class="form-control" id="txtSecSocial" placeholder="" value="30">
				</div>
				<div class="form-group">
					<label for="txtSecImage">Seconds per image question</label>
					<input type="text" class="form-control" id="txtSecImage" placeholder="" value="30">
				</div>
				<div class="form-group">
					<label for="txtSecSurvey">Seconds per survey question</label>
					<input type="text" class="form-control" id="txtSecSurvey" placeholder="" value="30">
				</div>
				-->
				<div class="form-group">
					<label for="txtSecReview">Seconds per question review</label>
					<input type="text" class="form-control" id="txtSecReview" placeholder="" value="30">
				</div>

				</form>


			</div>


			<div class="card-footer">

			</div>
		</div>
		<center>
			<button type="button" id="btnAddGame" class="btn btn-success" onclick="games.addGame_submit()">Submit</button>
			<button type="button" id="btnUpdateGame" class="btn btn-success" onclick="games.editGame_submit()">Submit</button>
			&nbsp;&nbsp;&nbsp;
			<button type="button" class="btn btn-danger" onclick="games.loadGames()">Cancel</button>
		</center>

	</div>

	<!-- browse form-->

	<div id="pnlBrowseForm" class="hide panel">
		<!-- Search form -->
		<input class="form-control" type="text" placeholder="Search" aria-label="Search">

		<div id = "categoryBrowseGames" class="container mt-5">

<!--			&lt;!&ndash;Section: Content&ndash;&gt;-->
<!--			<section class="text-left">-->

<!--				&lt;!&ndash; Section heading &ndash;&gt;-->
<!--				<h3 class="font-weight-bold mb-5">Popular topic</h3>-->

<!--				&lt;!&ndash; Grid row &ndash;&gt;-->
<!--				<div class="row">-->

<!--		br			&lt;!&ndash; Grid column &ndash;&gt;-->
<!--					<div class="col-lg-4 col-md-12 mb-lg-0 mb-4">-->

<!--						&lt;!&ndash; Card &ndash;&gt;-->
<!--						<div class="card hoverable">-->

<!--							&lt;!&ndash; Card image &ndash;&gt;-->
<!--							<img class="card-img-top" src="https://mdbootstrap.com/img/Photos/Others/images/58.jpg" alt="Card image cap">-->

<!--							&lt;!&ndash; Card content &ndash;&gt;-->
<!--							<div class="card-body">-->

<!--								&lt;!&ndash; Title &ndash;&gt;-->
<!--								<p class="card-title text-muted text-uppercase font-small mt-1 mb-3">Books</p>-->
<!--								&lt;!&ndash; Text &ndash;&gt;-->
<!--								<p class="mb-2">It's been 5years. maybe since I read..</p>-->

<!--							</div>-->

<!--						</div>-->
<!--						&lt;!&ndash; Card &ndash;&gt;-->

<!--					</div>-->
<!--					&lt;!&ndash; Grid column &ndash;&gt;-->

<!--					&lt;!&ndash; Grid column &ndash;&gt;-->
<!--					<div class="col-lg-4 col-md-6 mb-md-0 mb-4">-->

<!--						&lt;!&ndash; Card &ndash;&gt;-->
<!--						<div class="card hoverable">-->

<!--							&lt;!&ndash; Card image &ndash;&gt;-->
<!--							<img class="card-img-top" src="https://mdbootstrap.com/img/Photos/Others/project4.jpg" alt="Card image cap">-->

<!--							&lt;!&ndash; Card content &ndash;&gt;-->
<!--							<div class="card-body">-->

<!--								&lt;!&ndash; Title &ndash;&gt;-->
<!--								<p class="card-title text-muted text-uppercase font-small mt-1 mb-3">Technology</p>-->
<!--								&lt;!&ndash; Text &ndash;&gt;-->
<!--								<p class="mb-2">Wanna work at home? Then you should..</p>-->

<!--							</div>-->

<!--						</div>-->
<!--						&lt;!&ndash; Card &ndash;&gt;-->

<!--					</div>-->
<!--					&lt;!&ndash; Grid column &ndash;&gt;-->

<!--					&lt;!&ndash; Grid column &ndash;&gt;-->
<!--					<div class="col-lg-4 col-md-6 mb-0">-->

<!--						&lt;!&ndash; Card &ndash;&gt;-->
<!--						<div class="card hoverable">-->

<!--							&lt;!&ndash; Card image &ndash;&gt;-->
<!--							<img class="card-img-top" src="https://mdbootstrap.com/img/Photos/Others/images/88.jpg" alt="Card image cap">-->

<!--							&lt;!&ndash; Card content &ndash;&gt;-->
<!--							<div class="card-body">-->

<!--								&lt;!&ndash; Title &ndash;&gt;-->
<!--								<p class="card-title text-muted text-uppercase font-small mt-1 mb-3">Design</p>-->
<!--								&lt;!&ndash; Text &ndash;&gt;-->
<!--								<p class="mb-2">Best practices for minimalist design...</p>-->

<!--							</div>-->

<!--						</div>-->
<!--						&lt;!&ndash; Card &ndash;&gt;-->

<!--					</div>-->
<!--					&lt;!&ndash; Grid column &ndash;&gt;-->

<!--				</div>-->
<!--				&lt;!&ndash; Grid row &ndash;&gt;-->

<!--				&lt;!&ndash;Section: Content&ndash;&gt;-->
<!--				<section class="text-left">-->

<!--					&lt;!&ndash; Section heading &ndash;&gt;-->
<!--					<h3 class="font-weight-bold mb-5">Trend</h3>-->

<!--					&lt;!&ndash; Grid row &ndash;&gt;-->
<!--					<div class="row">-->

<!--						&lt;!&ndash; Grid column &ndash;&gt;-->
<!--						<div class="col-lg-4 col-md-12 mb-lg-0 mb-4">-->

<!--							&lt;!&ndash; Card &ndash;&gt;-->
<!--							<div class="card hoverable">-->

<!--								&lt;!&ndash; Card image &ndash;&gt;-->
<!--								<img class="card-img-top" src="https://co-opcabs.com/wp-content/uploads/2020/03/COVID-19-1.jpg" alt="Card image cap">-->

<!--								&lt;!&ndash; Card content &ndash;&gt;-->
<!--								<div class="card-body">-->

<!--									&lt;!&ndash; Title &ndash;&gt;-->
<!--									<p class="card-title text-muted text-uppercase font-small mt-1 mb-3">COVID-19</p>-->
<!--									&lt;!&ndash; Text &ndash;&gt;-->
<!--									<p class="mb-2">Honer system..rip</p>-->

<!--								</div>-->

<!--							</div>-->
<!--							&lt;!&ndash; Card &ndash;&gt;-->

<!--						</div>-->
<!--						&lt;!&ndash; Grid column &ndash;&gt;-->

<!--						&lt;!&ndash; Grid column &ndash;&gt;-->
<!--						<div class="col-lg-4 col-md-6 mb-md-0 mb-4">-->

<!--							&lt;!&ndash; Card &ndash;&gt;-->
<!--							<div class="card hoverable">-->

<!--								&lt;!&ndash; Card image &ndash;&gt;-->
<!--								<img class="card-img-top" src="https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcRM-KPXGoQk-YnEqkdlcG0HwF_zOE-nfoiIN6B2OzkT-yX-NdBU&usqp=CAU" alt="Card image cap">-->

<!--								&lt;!&ndash; Card content &ndash;&gt;-->
<!--								<div class="card-body">-->

<!--									&lt;!&ndash; Title &ndash;&gt;-->
<!--									<p class="card-title text-muted text-uppercase font-small mt-1 mb-3">Climate Change</p>-->
<!--									&lt;!&ndash; Text &ndash;&gt;-->
<!--									<p class="mb-2">Save Earth!</p>-->

<!--								</div>-->

<!--							</div>-->
<!--							&lt;!&ndash; Card &ndash;&gt;-->

<!--						</div>-->
<!--						&lt;!&ndash; Grid column &ndash;&gt;-->

<!--						&lt;!&ndash; Grid column &ndash;&gt;-->
<!--						<div class="col-lg-4 col-md-6 mb-0">-->

<!--							&lt;!&ndash; Card &ndash;&gt;-->
<!--							<div class="card hoverable">-->

<!--								&lt;!&ndash; Card image &ndash;&gt;-->
<!--								<img class="card-img-top" src="https://images.techhive.com/images/article/2017/02/pressure-water-line-100707995-large.jpg" alt="Card image cap">-->

<!--								&lt;!&ndash; Card content &ndash;&gt;-->
<!--								<div class="card-body">-->

<!--									&lt;!&ndash; Title &ndash;&gt;-->
<!--									<p class="card-title text-muted text-uppercase font-small mt-1 mb-3">Pipeline</p>-->
<!--									&lt;!&ndash; Text &ndash;&gt;-->
<!--									<p class="mb-2">Best practices for minimalist design...</p>-->

<!--								</div>-->

<!--							</div>-->
<!--							&lt;!&ndash; Card &ndash;&gt;-->

<!--						</div>-->
<!--						&lt;!&ndash; Grid column &ndash;&gt;-->

<!--					</div>-->
<!--					&lt;!&ndash; Grid row &ndash;&gt;-->

<!--				</section>-->
<!--				&lt;!&ndash;Section: Content&ndash;&gt;-->


<!--		</div>-->

<!--	</div>-->


	<!-- question form -->
	<div id="pnlQuestionForm" class="panel">



		<div class="card">
			<div class="card-header card-header-text ">
				<div class="card-text">
					<h4 class="card-title" id="lblQuestionTitle">Add a Question</h4>
				</div>
			</div>
			<div class="card-body">


				<form>
					<input type="hidden" id="questionID">
					<div class="form-group">
						<label for="slctQuestionType">Type</label>
						<select class="form-control selectpicker question-input" data-style="btn btn-dark" id="slctQuestionType" onchange="games.selectQuestionType()">
							<option value="trivia">Trivia</option>
							<option value="social">Social</option>
							<option value="image">Image</option>
							<option value="media">Media</option>
							<option value="survey">Survey</option>
						</select>
						<br/><br/>

					</div>


					<div id="subPnlImage">


						<center>
							<div class="fileinput fileinput-new text-center" data-provides="fileinput">
								<div class="fileinput-new thumbnail img-raised" id="plcImage">

								</div>
								<img src="./src/assets/images/loading.gif" class="loading" style="width: 32px;">
								<div class="fileinput-preview fileinput-exists thumbnail img-raised"></div>
								<div>
								<span class="btn btn-raised btn-round btn-file">
									<span class="fileinput-new">Select image</span>
									<span class="fileinput-exists">Change</span>
									<input type="file" id="flImage" name="..." />
								</span>
									<a href="#pablo" class="btn btn-danger btn-round fileinput-exists" data-dismiss="fileinput">
										<i class="fa fa-times"></i> Remove</a>
								</div>
							</div>
						</center>
						<br/>
						<br/>
					</div>


					<div id="subPnlMedia">


						<center>
							<div class="fileinput fileinput-new text-center" data-provides="fileinput">
								<div class="fileinput-new thumbnail img-raised" id="plcMedia">

								</div>

								<i class="material-icons large-icon">local_movies</i>
								<img src="./src/assets/images/loading.gif" class="loading" style="width: 32px;">
								<div class="fileinput-preview fileinput-exists thumbnail img-raised"></div>
								<div>
								<span class="btn btn-raised btn-round btn-file">
									<span class="fileinput-new">Select Video or Audio</span>
									<span class="fileinput-exists">Change</span>
									<input type="file" id="flMedia" name="..." />
								</span>
									<a href="#pablo" class="btn btn-danger btn-round fileinput-exists" data-dismiss="fileinput">
										<i class="fa fa-times"></i> Remove</a>
								</div>
							</div>
						</center>
						<br/>
						<br/>
					</div>







					<div id="subPnlTrivia">

						<div class="form-group">
							<label for="txtQuestion">Question</label>
							<input type="text" class="form-control question-input" id="txtQuestion" placeholder="">
						</div>

						<div class="form-group">
							<label for="txtOption1">Option 1</label>
							<input type="text" class="form-control question-input" id="txtOption1" placeholder="">
						</div>

						<div class="form-group">
							<label for="txtOption2">Option 2</label>
							<input type="text" class="form-control question-input" id="txtOption2" placeholder="">
						</div>

						<div class="form-group">
							<label for="txtOption3">Option 3</label>
							<input type="text" class="form-control question-input" id="txtOption3" placeholder="">
						</div>

						<div class="form-group">
							<label for="txtOption4">Option 4</label>
							<input type="text" class="form-control question-input" id="txtOption4" placeholder="">
						</div>

						<div class="form-group">
							<label for="slctAnswer">Answer</label>
							<select class="form-control selectpicker question-input" data-style="btn btn-dark" id="slctAnswer">
								<option value="1">Option 1</option>
								<option value="2">Option 2</option>
								<option value="3">Option 3</option>
								<option value="4">Option 4</option>
							</select>
							<br/><br/>
						</div>

					</div>



					<div id="subPnlSocial">

						<div class="form-group">
							<label for="txtEntryText">Entry Form Text (For when the player registers)</label>
							<input type="text" class="form-control question-input" id="txtEntryText" placeholder="">
						</div>

						<div class="form-group">
							<label for="txtAppText">Player Gameplay Text</label>
							<input type="text" class="form-control question-input" id="txtAppText" placeholder="&nbsp;&nbsp;&nbsp;example: {value} is who's favorite colour?">
						</div>

						<div class="form-group">
							<label for="txtViewerText">TV Gameplay Text</label>
							<input type="text" class="form-control question-input" id="txtViewerText" placeholder="">
						</div>
					</div>

					<div id="subPnlSurvey">
						<label for="slctSurveyType">Question Type</label>
						<select class="form-control selectpicker question-input" data-style="btn btn-dark" id="slctSurveyType" onchange="games.selectSurveyType()">
							<option value="text">Text</option>
							<option value="choice">Choice</option>

						</select>
						<br/><br/>

						<div class="form-group">
							<label for="txtQuestionSurvey">Question</label>
							<input type="text" class="form-control question-input" id="txtQuestionSurvey" placeholder="">
						</div>

						<div id="subPnlSurveyChoice">
							<div class="form-group">
								<label for="txtOption1Survey">Option 1</label>
								<input type="text" class="form-control question-input" id="txtOption1Survey" placeholder="">
							</div>

							<div class="form-group">
								<label for="txtOption2Survey">Option 2</label>
								<input type="text" class="form-control question-input" id="txtOption2Survey" placeholder="">
							</div>

							<div class="form-group">
								<label for="txtOption3Survey">Option 3</label>
								<input type="text" class="form-control question-input" id="txtOption3Survey" placeholder="">
							</div>

							<div class="form-group">
								<label for="txtOption4Survey">Option 4</label>
								<input type="text" class="form-control question-input" id="txtOption4Survey" placeholder="">
							</div>
						</div>




					</div>

					<center>
						<button type="button" id="btnAddQuestion" class="btn btn-success" onclick="games.addQuestion_submit()">Submit</button>
						<button type="button" id="btnEditQuestion" class="btn btn-success" onclick="games.editQuestion_submit()">Submit</button>
						&nbsp;&nbsp;&nbsp;
						<button type="button" class="btn btn-danger" onclick="games.addQuestion_cancel()">Cancel</button>
					</center>


				</form>
			</div>


			<div class="card-footer">

			</div>
		</div>

	</div>

	<!-- play game form -->
	<div id="pnlTeamForm" class="hide panel">
		<div class="card">
			<div class="card-header card-header-text ">
				<div class="card-text">
					<h4 class="card-title" id="lblTeamTitle">Add team</h4>
				</div>
			</div>

			<div class="card-body">

				<form>

					<div class="form-group">
						<label for="slctTeam">Select Team</label>
						<select class="form-control selectpicker question-input" data-style="btn btn-dark" id="slctTeam">
						</select>
						<br/><br/>
					</div>
					<div class="form-group">
						<label for="txtTeam">Or Specify Team</label>
						<input type="text" class="form-control question-input" id="txtTeam" placeholder="">
					</div>


				</form>


				<center>
					<button type="button" class="btn btn-success" onclick="games.addTeam_submit()">Submit</button>
					&nbsp;&nbsp;&nbsp;
					<button type="button" class="btn btn-danger" onclick="games.addTeam_cancel()">Cancel</button>
				</center>


			</div>
			<div class="card-footer">

			</div>
		</div>


	</div>

	<!--
	View Information Modal
	-->
	<div class="modal fade" id="exampleModal2" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel2" aria-hidden="true">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="exampleModalLabel2">Game Links</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body" id="gameTeamInfo">
					Sample text
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
					<button type="button" class="btn btn-primary">Save changes</button>
				</div>
			</div>
		</div>
	</div>

	<!-- Question Information Modal -->
	<div class="modal fade" id="exampleModal3" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel3" aria-hidden="true">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="exampleModalLabel3">Question</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body" id="questionInfo">
					Sample text
				</div>
				<div class="modal-footer" id="questionButtons">
					<!--					<button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>-->
					<!--					<button type="button" class="btn btn-primary" onclick="games.addQuestion_modal()">Add Question</button>-->
				</div>
			</div>
		</div>
	</div>

</div>



<script type="text/javascript">
	$('.file-upload').file_upload();
</script>

<script type="text/javascript">

	$( document ).ready(function() {
		$('.loading').hide();
		games.loadGames();

		var param = getUrlParam('trigger','none');

		if(param == "new")
		{
			games.addGame();
		}

		$('#frmGameInfo').validate();


	});


	$(function() {
		$("#flImage").change(function ()
		{
			var fileName = $(this).val();
			$('.loading').show();
			$('.fileinput-preview').hide();



			console.log("file changed");
			const input = document.getElementById('flImage');

			const fileInput = document.querySelector('#flImage') ;
			const formData = new FormData();
			formData.append('flImage', fileInput.files[0]);

			console.log(fileInput.files[0]);


			//console.log(input);



			var url = config.api_url + "/image/upload";
			var imageURL = config.api_url + "/image/get/";
			var params = {};

			$.ajax({
				type: "POST",
				enctype: 'multipart/form-data',
				url: url,
				data: formData,
				processData: false,
				contentType: false,
				cache: false,
				timeout: 600000,
				success: function (data) {
					games.questionImage = JSON.parse(data);

					imageURL += games.questionImage;
					console.log(games.questionImage);
					$('#plcImage').html('<img src="' + imageURL + '" style="width:300px;">');
					$('.loading').hide();
				},
				error: function (e) {
					console.log("ERROR : ", e);
					$('.loading').hide();
				}
			});
		});
	});

	$(function() {
		$("#flMedia").change(function ()
		{
			var fileName = $(this).val();
			$('.loading').show();


			console.log("file changed");
			const input = document.getElementById('flMedia');

			const fileInput = document.querySelector('#flMedia') ;
			const formData = new FormData();
			formData.append('flMedia', fileInput.files[0]);

			console.log(fileInput.files[0]);


			//console.log(input);



			var url = config.api_url + "/image/upload";
			var params = {};

			$.ajax({
				type: "POST",
				enctype: 'multipart/form-data',
				url: url,
				data: formData,
				processData: false,
				contentType: false,
				cache: false,
				timeout: 600000,
				success: function (data) {
					games.questionImage = JSON.parse(data);
					$('.loading').hide();
				},
				error: function (e) {
					console.log("ERROR : ", e);
					$('.loading').hide();
				}
			});


		});


	});

	var games = {

		questionImage:"",
		teamCounter:0,
		questionCounter:0,
		questions:[],
		defaultTeams:[],
		teams:[],
		formItems:[],
		currentGame:{},


		//-----------------------------------------------------------------------------
		//       name: loadGameURLs()
		//Description: loads the game urls in the models
		//-----------------------------------------------------------------------------
		loadGameURLs:function(id)
		{
			//perform AJAX call to the API to get our data...
			var guid = docCookies.getItem('strong_guid');
			var url = config.api_url + "/games/user/" + guid;
			var params = {};

			//perform the call
			fetch(url,{
				method: 'GET',
			}).then(function (response)
			{
				return response.json();
			})
					.then(function(data) {

						var html = "";
						var length = 0;

						if (data.length > 10) {
							length = 10;
						} else {
							length = data.length;
						}

						for (var i = 0; i < length; i++) {

							var questions = JSON.parse(data[i].questions);
							var teams = JSON.parse(data[i].teams);
							console.log(data[i]);

							html += '<h5>Host Link</h5>';
							html += '<a href="https://sg1.tech/test/tv/index.html?rv=' + id + '">https://sg1.tech/test/tv/index.html?rv=' + id + '</a><hr>';

							console.log(teams.length);

							if (teams.length > 1) {

								for (var key in teams) {
									// check if the property/key is defined in the object itself, not in parent
									if (teams.hasOwnProperty(key)) {
										console.log(key, teams[key]);
										html += '<h5><u>' + teams[key].name + '</u></h5>';
										html += '<a href="">https://sg1.tech/test/?rv=' + id + '&team=' + teams[key].id + '</a><hr>';
									}
								}
							} else {
								html += '<h5><u>Please share the ling below with the players</u></h5>';
								html += '<a href="">https://sg1.tech/test/?rv=' + id + '&team=' + teams[0].id + '</a><hr>';
							}
						}
						$('#gameTeamInfo').html(html);
					});
		},


		loadCatalogueGames:function()
		{
			//perform AJAX call to the API to get our data...
			// var guid = docCookies.getItem('strong_guid');
			var url = config.api_url + "/catalog_games/";
			var params = {};

			//perform the call
			fetch(url,{
				method: 'GET',
			}).then(function (response)
			{
				return response.json();
			})
					.then(function(data)
					{

						var html = "";

						for(var i = 0; i < data.length; i++)
						{
							var title = data[i].title;
							var description = data[i].description;


							// html += '<section class="text-left"><div id="pnlBrowseForm" class="hide panel"><input class="form-control" type="text" placeholder="Search" aria-label="Search">' +
							// 		'<div class="container mt-5"><section class="text-left"><div><h3 class="font-weight-bold mb-5">' +
							// 		'Categories<button type="button" class="btn btn-success float-right" onclick="games.seeMore()">See more</button> </h3>' +
							// 		'</div>';

							html += '<div><h3 class="font-weight-bold mb-5">Pop Culture <button type="button" class="btn btn-success float-right" onclick="games.seeMore()">See more</button> </h3></div>';
							html +=	'<div class="row"><div class="col-lg-3 col-md-4 mb-md-0 mb-4"><div class="card hoverable">';
							html +=	'<img class="card-img-top" src="https://mdbootstrap.com/img/Photos/Others/images/58.jpg" alt="Card image cap">';
							html +=	'<div class="card-body"><p class="card-title text-muted text-uppercase font-small mt-1 mb-3">';
							html +=	title + '</p><p class="mb-2">' + description + '</p></div></div></div>';

						}

						$('#a').html(html);

					});
		},

		//-----------------------------------------------------------------------------
		//       name: loadGames()
		//Description: loads the games to the games management screen
		//-----------------------------------------------------------------------------
		loadGames:function()
		{
			$('.panel').hide();
			$('#pnlListGames').fadeIn();



			//perform AJAX call to the API to get our data...
			var guid = docCookies.getItem('strong_guid');
			console.log(guid);
			var url = config.api_url + "/games/user/" + guid;
			console.log(url)
			var params = {};

			//perform the call
			fetch(url,{
				method: 'GET',
			}).then(function (response)
			{
				return response.json();
			})
					.then(function(data)
					{

						var html = "";

						for(var i = 0; i < data.length; i++)
						{

							var questions = JSON.parse(data[i].questions);
							var teams = JSON.parse(data[i].teams);

							html += '<tr>';
							html += '<td>' + data[i].title + '</td>';
							html += '<td>' + data[i].description + '</td>';
							html += '<td>' + teams.length + '</td>';
							html += '<td>' + questions.length + '</td>';
							html += '<td class="td-actions text-right">';
							html += '<button type="button" onclick="games.playGame(' + data[i].ID + ')" class="btn btn-success" data-toggle="tooltip" rel="tooltip" data-placement="bottom" title="Host Game">';
							html += '<i class="material-icons">arrow_right</i>';
							html += '</button>';
							html += '&nbsp;&nbsp;<button type="button" onclick="games.loadGameStats(' + data[i].ID + ')" class="btn btn-primary" rel="tooltip" data-toggle="tooltip" data-placement="bottom" title="Stats & Feedback">';
							html += '<i class="material-icons">insert_chart_outlined</i>';
							html += '</button>'
							html += '&nbsp;&nbsp;<button type="button" onclick="games.editGame(' + data[i].ID + ')" class="btn btn-warning" rel="tooltip" data-toggle="tooltip" data-placement="bottom" title="Edit Game">';
							html += '<i class="material-icons">edit</i>';
							html += '</button>';
							html += '&nbsp;&nbsp;<button type="button" onclick="games.deleteGame(' + data[i].ID + ')" class="btn btn-danger" rel="tooltip" data-toggle="tooltip" data-placement="bottom" title="Delete game"> ';
							html += '<i class="material-icons">delete</i>';
							html += '</button>';
							html += '&nbsp;&nbsp;<button type="button" class="btn" onclick="games.loadGameURLs('+data[i].ID+')" data-toggle="modal" data-target="#exampleModal2" data-placement="bottom" rel="tooltip" title = "View Information">';
							html += '<i class="material-icons">mail</i>';
							html += '</button>';
							html += '&nbsp;&nbsp;<button type="button" onclick="games.duplicate_game(' + data[i].ID + ')" class="btn btn-default" rel="tooltip" data-toggle="tooltip" data-placement="bottom" title="Duplicate game"> ';
							html += '<i class="material-icons">content_copy</i>';
							html += '</button>';
							html += '</td>';
						}

						$('#tblGames > tbody').html(html);
						$('[rel="tooltip"]').tooltip('hide');
						$('[rel="tooltip"]').tooltip();

						console.log("zzz");

					});


			//load themes to add form dropdown...
			//perform the call
			var url = config.api_url + "/themes/user/" + guid;
			fetch(url,{
				method: 'GET',
			}).then(function (response)
			{
				return response.json();
			})
					.then(function(data)
					{

						var html = '<option value="">Default Theme</option>';

						for(var i = 0; i < data.length; i++)
						{

							html += '<option value="' + data[i].themeID + '">' + data[i].name + '</option>';

						}

						$('#slctTheme').html(html);
						$('.selectpicker').selectpicker('refresh');

					});


		},


		//-----------------------------------------------------------------------------
		//       name: editGame()
		//Description:
		//-----------------------------------------------------------------------------
		editGame:function(id)
		{


			//get the selected game info...
			//perform AJAX call to the API to get our data...
			var url = config.api_url + "/games/" + id;
			var params = {
				id:id
			};

			//perform the call
			fetch(url,{
				method: 'GET',
				headers: {'Content-Type': 'application/json'}
			}).then(function (response)
			{
				return response.json();
			})
					.then(function(data)
					{
						games.currentGame = data;

						var timings = JSON.parse(games.currentGame.timings);
						games.teams = JSON.parse(games.currentGame.teams);
						games.questions = JSON.parse(games.currentGame.questions);
						games.formItems = JSON.parse(games.currentGame.form_items);

						timing_start: $('#txtSecStart').val(timings.timing_start);
						timing_trivia: $('#txtSecTrivia').val(timings.timing_trivia);
						timing_social: $('#txtSecSocial').val(timings.timing_social);
						timing_image: $('#txtSecImage').val(timings.timing_image);
						timing_survey: $('#txtSecSurvey').val(timings.timing_survey);
						timing_review: $('#txtSecReview').val(timings.timing_review);
						title:$('#txtTitle').val(games.currentGame.title);
						description:$('#txtDescription').val(games.currentGame.description);
						themeID:$('#slctTheme').val(games.currentGame.themeID);

						games.addQuestion_load();
						games.addTeam_load();
						$('.selectpicker').selectpicker('refresh');



					});


			//prep the form and load the data...
			$('[rel="tooltip"]').tooltip('hide');
			$('.panel').hide();
			$('#pnlGameForm').fadeIn();
			$('#lblGameFormTitle').html("Edit Game");

			$('#btnAddGame').hide();
			$('#btnUpdateGame').show();


		},


		//-----------------------------------------------------------------------------
		//       name: addGame_submit()
		//Description:
		//-----------------------------------------------------------------------------
		editGame_submit:function()
		{

			var timings = {
				timing_start: $('#txtSecStart').val(),
				timing_trivia: $('#txtSecTrivia').val(),
				timing_social: $('#txtSecSocial').val(),
				timing_image: $('#txtSecImage').val(),
				timing_survey: $('#txtSecSurvey').val(),
				timing_review: $('#txtSecReview').val(),
			}

			//perform AJAX call to the API to get our data...
			var url = config.api_url + "/games/" + games.currentGame.ID;
			var guid = docCookies.getItem('strong_guid');
			var params = {
				id: games.currentGame.ID,
				title:$('#txtTitle').val(),
				description:$('#txtDescription').val(),
				timings:timings,
				questions:games.questions,
				formItems:games.formItems,
				teams:games.teams,
				userID:guid,
				themeID:$('#slctTheme').val(),

			};

			//perform the call
			fetch(url,{
				method: 'PUT',
				body: JSON.stringify(params),

			}).then(function (response)
			{
				return response.json();
			})
					.then(function(data)
					{

						//cleanup...
						games.questions = [];
						games.teams = [];
						games.formItems = [];

						$('#txtTitle').val('');
						$('#txtDescription').val('');

						$('#tblQuestions > tbody').html('');
						$('#tblTeams > tbody').html('');

						games.loadGames();
					});



		},



		//-----------------------------------------------------------------------------
		//       name: addGame()
		//Description:
		//-----------------------------------------------------------------------------
		addGame:function()
		{

			$('.panel').hide();
			$('#pnlGameForm').fadeIn();
			$('#lblGameFormTitle').html("Add a New Game");

			$('#btnAddGame').show();
			$('#btnUpdateGame').hide();


		},

		//-----------------------------------------------------------------------------
		//       name: browseGame()
		//Description:
		//-----------------------------------------------------------------------------
		browseGame:function()
		{

			$('.panel').hide();
			$('#pnlBrowseForm').fadeIn();
			var url = config.api_url + "/catalog_games/";
			var params = {};

			//perform the call
			fetch(url,{
				method: 'GET',
			}).then(function (response)
			{
				return response.json();
			})
					.then(function(data)
					{

						var html = "";
						html += '<div><h3 class="font-weight-bold mb-5">Pop Culture <button type="button" class="btn btn-success float-right" onclick="games.seeMore()">See more</button> </h3></div>';

						for(var i = 0; i < data.length; i++)
						{
							var title = data[i].title;
							var description = data[i].description;

							// html += '<section class="text-left"><div id="pnlBrowseForm" class="hide panel"><input class="form-control" type="text" placeholder="Search" aria-label="Search">' +
							// 		'<div class="container mt-5"><section class="text-left"><div><h3 class="font-weight-bold mb-5">' +
							// 		'Categories<button type="button" class="btn btn-success float-right" onclick="games.seeMore()">See more</button> </h3>' +
							// 		'</div>';

							html +=	'<div class="col-lg-3 col-md-4 mb-md-0 mb-4"><div class="card hoverable">';
							html +=	'<img class="card-img-top" src="https://mdbootstrap.com/img/Photos/Others/images/58.jpg" alt="Card image cap">';
							html +=	'<div class="card-body"><p class="card-title text-muted text-uppercase font-small mt-1 mb-3">';
							html +=	title + '</p><p class="mb-2">' + description + '</p></div></div></div>';

						}

						$('#categoryBrowseGames').html(html);

					});

			$('#lblGameFormTitle').html("Add a New Game");
			$('#btnAddGame').show();
			$('#btnUpdateGame').hide();

		},

		//-----------------------------------------------------------------------------
		//       name: addGame_submit()
		//Description:
		//-----------------------------------------------------------------------------
		addGame_submit:function()
		{

			var validSubmission = true;

			if(games.questions.length < 1)
			{
				alert("Please add at least one question to the game before continuing");
				validSubmission = false;
			}
			if(games.teams.length < 1 && validSubmission == true)
			{
				alert("Please add at least one team to the game before continuing");
				validSubmission = false;
			}

			var timings = {
				timing_start: $('#txtSecStart').val(),
				timing_trivia: $('#txtSecTrivia').val(),
				timing_social: $('#txtSecSocial').val(),
				timing_image: $('#txtSecImage').val(),
				timing_survey: $('#txtSecSurvey').val(),
				timing_review: $('#txtSecReview').val(),
			}

			//perform AJAX call to the API to get our data...
			var url = config.api_url + "/games";
			var guid = docCookies.getItem('strong_guid');
			var params = {
				title:$('#txtTitle').val(),
				description:$('#txtDescription').val(),
				timings:timings,
				questions:games.questions,
				formItems:games.formItems,
				teams:games.teams,
				userID:guid,
				themeID:$('#slctTheme').val(),
			};


			if($('#frmGameInfo').valid() && validSubmission == true)
			{


				//perform the call
				fetch(url,{
					method: 'POST',
					body: JSON.stringify(params),

				}).then(function (response)
				{
					return response.json();
				})
						.then(function(data)
						{

							//cleanup...
							games.questions = [];
							games.teams = [];
							games.formItems = [];

							$('#txtTitle').val('');
							$('#txtDescription').val('');

							$('#tblQuestions > tbody').html('');
							$('#tblTeams > tbody').html('');



							games.loadGames();
						});
			}


		},


		//-----------------------------------------------------------------------------
		//       name: delete()
		//Description:
		//-----------------------------------------------------------------------------
		deleteGame:function(id)
		{

			//perform AJAX call to the API to get our data...
			var url = config.api_url + "/games/" + id;
			var params = {
				id:id
			};

			//perform the call
			fetch(url,{
				method: 'DELETE',
				headers: {'Content-Type': 'application/json'}
			}).then(function (response)
			{
				return response.json();
			})
					.then(function(data)
					{
						games.loadGames();
					});



		},


		//-----------------------------------------------------------------------------
		//       name: play()
		//Description:
		//-----------------------------------------------------------------------------
		playGame:function(id)
		{
			$('[rel="tooltip"]').tooltip('hide');
			//window.location.hash = 'play?id=' + id;
			window.open(config.tv_url + '?id=' + id);
		},


		//-----------------------------------------------------------------------------
		//       name: loadGameStats()
		//Description:
		//-----------------------------------------------------------------------------
		loadGameStats:function(id)
		{
			$('[rel="tooltip"]').tooltip('hide');
			window.location.hash = 'stats?id=' + id;
		},



		//-----------------------------------------------------------------------------
		//       name: updateGame()
		//Description:
		//-----------------------------------------------------------------------------
		updateGame:function()
		{

		},

		//-----------------------------------------------------------------------------
		//       name: updateGame_submit()
		//Description:
		//-----------------------------------------------------------------------------
		updateGame_submit:function()
		{

		},

		loadQuestions_dropdown:function(id)
		{

			//perform AJAX call to the API to get our data...
			var guid = docCookies.getItem('strong_guid');
			var url = config.api_url + "/catalog_questions/" + id;
			var params = {};

			//perform the call
			fetch(url,{
				method: 'GET',
			}).then(function (response)
			{
				return response.json();
			})
					.then(function(data) {

						console.log(data)

						var html = "";

						for (var i = 0; i < data.length; i++) {
							html += '<li><a class="dropdown-item" onclick="games.displayQuestion('+ data[i].ID +')" data-toggle="modal" data-target="#exampleModal3" href="#">' + data[i].question + '</a></li>';
						}

						$('#' + id + 'Questions').html(html);

					});
		},

		SearchQuestionsDropdown:function(search)
		{

			//perform AJAX call to the API to get our data...
			var guid = docCookies.getItem('strong_guid');
			var url = config.api_url + "/catalog_questions/" + search;
			var params = {};

			//perform the call
			fetch(url,{
				method: 'GET',
			}).then(function (response)
			{
				return response.json();
			})
					.then(function(data) {

						console.log(data);

						var html = "";

						for (var i = 0; i < data.length; i++) {
							html += '<li><a class="dropdown-item" onclick="games.displayQuestion('+ data[i].ID +')" data-toggle="modal" data-target="#exampleModal3" href="#">' + data[i].question + '</a></li>';
						}

						$('#' + id + 'Questions').html(html);

					});
		},


		displayQuestion:function(id)
		{
			//perform AJAX call to the API to get our data...
			var guid = docCookies.getItem('strong_guid');
			var url = config.api_url + "/catalog_questions/" + id;
			var params = {};

			//perform the call
			fetch(url,{
				method: 'GET',
			}).then(function (response)
			{
				return response.json();
			})
					.then(function(data) {

						console.log(data);
						var html = "";

						$('#exampleModalLabel3').html(data["question"]);

						switch(data["type"])
						{
							case 'Trivia':

								html += '<p id="type">Type: ' + data["type"] + '</p>';
								html += '<p id="option1">Option 1: ' + data["answer1"] + '</p>';
								html += '<p id="option2">Option 2: ' + data["answer2"] + '</p>';
								html += '<p id="option3">Option 3: ' + data["answer3"] + '</p>';
								html += '<p id="option4">Option 4: ' + data["answer4"] + '</p>';
								html += '<p id="answer"><b>Answer: ' + data["correct_answer"] + '</b></p>';


								break;
							case 'Social':

								html += '<p id="type">Type: ' + data["type"] + '</p>';
								html += '<p id="option1">On App: ' + data["answer1"] + '</p>';
								html += '<p id="option2">On TV: ' + data["answer2"] + '</p>';

								// $('#txtEntryText').val(question.entryQuestion);
								// $('#txtAppText').val(question.displayQuestion);
								// $('#txtViewerText').val(question.displayTitle);
								// $('#slctQuestionType').val(question.type);

								break;
							case 'Image':

								html += '<p id="type">Type: ' + data["type"] + '</p>';
								html += '<p id="option1">Option 1: ' + data["answer1"] + '</p>';
								html += '<p id="option2">Option 2: ' + data["answer2"] + '</p>';
								html += '<p id="option3">Option 3: ' + data["answer3"] + '</p>';
								html += '<p id="option4">Option 4: ' + data["answer4"] + '</p>';
								html += '<p id="answer"><b>Answer: ' + data["correct_answer"] + '</b></p>';

								// $('#txtQuestion').val(question.question);
								// $('#txtOption1').val(question.response1);
								// $('#txtOption2').val(question.response2);
								// $('#txtOption3').val(question.response3);
								// $('#txtOption4').val(question.response4);
								// $('#slctAnswer').val(question.answer);
								// $('#slctQuestionType').val(question.type);

								break;
							case 'Media':

								html += '<p id="type">Type: ' + data["type"] + '</p>';
								html += '<p id="option1">Option 1: ' + data["answer1"] + '</p>';
								html += '<p id="option2">Option 2: ' + data["answer2"] + '</p>';
								html += '<p id="option3">Option 3: ' + data["answer3"] + '</p>';
								html += '<p id="option4">Option 4: ' + data["answer4"] + '</p>';
								html += '<p id="answer"><b>Answer: ' + data["correct_answer"] + '</b></p>';

								// $('#txtQuestion').val(question.question);
								// $('#txtOption1').val(question.response1);
								// $('#txtOption2').val(question.response2);
								// $('#txtOption3').val(question.response3);
								// $('#txtOption4').val(question.response4);
								// $('#slctAnswer').val(question.answer);
								// $('#slctQuestionType').val(question.type);

								break;
							case 'Survey':

								html += '<p id="type">Type: ' + data["type"] + '</p>';
								html += '<p id="option1">Option 1: ' + data["answer1"] + '</p>';
								html += '<p id="option2">Option 2: ' + data["answer2"] + '</p>';
								html += '<p id="option3">Option 3: ' + data["answer3"] + '</p>';
								html += '<p id="option4">Option 4: ' + data["answer4"] + '</p>';
								html += '<p id="answer"><b>Answer: ' + data["correct_answer"] + '</b></p>';

								// $('#slctSurveyType').val(question.surveyType);
								// $('#txtQuestionSurvey').val(question.question);
								// $('#txtOption1Survey').val(question.response1);
								// $('#txtOption2Survey').val(question.response2);
								// $('#txtOption3Survey').val(question.response3);
								// $('#txtOption4Survey').val(question.response4);
								// $('#slctQuestionType').val(question.type);
								// games.selectSurveyType();

								break;
							default:
								break;
								// code block
						}

						$('#questionInfo').html(html);

						html = '<button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>';
						html += '<button type="button" class="btn btn-primary" onclick="games.addQuestion_modal(' + id + ')">Add Question</button>';

						$('#questionButtons').html(html);

					});
		},

		//-----------------------------------------------------------------------------
		//       name: addQuestion()
		//Description:
		//-----------------------------------------------------------------------------
		addQuestion:function()
		{
			$('.panel').hide();
			$('#subPnlSurveyChoice').hide();
			$('#subPnlImage').hide();
			$('#subPnlMedia').hide();
			$('#subPnlSurvey').hide();
			$('#subPnlSocial').hide();
			//$('#subPnlTrivia').hide();
			$('#pnlQuestionForm').fadeIn();
			$('#lblQuestionTitle').html("Add a Question");

			$('#btnAddQuestion').show();
			$('#btnEditQuestion').hide();

		},

		//-----------------------------------------------------------------------------
		//       name: addQuestion_cancel()
		//Description:
		//-----------------------------------------------------------------------------
		addQuestion_cancel:function()
		{
			$('#pnlQuestionForm').hide();
			$('#pnlGameForm').fadeIn();

		},

		//-----------------------------------------------------------------------------
		//       name: selectQuestionType()
		//Description:
		//-----------------------------------------------------------------------------
		selectQuestionType:function()
		{

			$('#subPnlMedia').hide();
			$('#subPnlImage').hide();
			$('#subPnlSurvey').hide();
			$('#subPnlSocial').hide();
			$('#subPnlTrivia').hide();

			switch($('#slctQuestionType').val())
			{
				case 'trivia':
					$('#subPnlTrivia').fadeIn();
					break;
				case 'social':
					$('#subPnlSocial').fadeIn();
					break;
				case 'image':
					$('#subPnlTrivia').fadeIn();
					$('#subPnlImage').fadeIn();
					break;
				case 'media':
					$('#subPnlTrivia').fadeIn();
					$('#subPnlMedia').fadeIn();
					break;
				case 'survey':
					$('#subPnlSurvey').fadeIn();
					break;
				default:
					break;
					// code block
			}


		},

		//-----------------------------------------------------------------------------
		//       name: addQuestion_submit()
		//Description:
		//-----------------------------------------------------------------------------
		addQuestion_submit:function()
		{

			var question = {};


			switch($('#slctQuestionType').val())
			{
				case 'trivia':

					question.id = games.questionCounter + 1;
					question.question = $('#txtQuestion').val();
					question.response1 = $('#txtOption1').val();
					question.response2 = $('#txtOption2').val();
					question.response3 = $('#txtOption3').val();
					question.response4 = $('#txtOption4').val();
					question.answer = $('#slctAnswer').val();
					question.type = $('#slctQuestionType').val();

					games.questions.push(question);
					games.questionCounter++;


					break;
				case 'social':


					question.id = games.questionCounter + 1;
					question.entryQuestion = $('#txtEntryText').val();
					question.displayQuestion = $('#txtAppText').val();
					question.displayTitle = $('#txtViewerText').val();
					question.answer = [];
					question.type = $('#slctQuestionType').val();

					var formItem = {};

					formItem.question = question.id;
					formItem.type = "text";
					formItem.title = question.entryQuestion;


					games.questions.push(question);
					games.formItems.push(formItem);
					games.questionCounter++;


					break;
				case 'image':
					question.id = games.questionCounter + 1;
					question.image = config.api_url + "/image/" + games.questionImage;
					question.question = $('#txtQuestion').val();
					question.response1 = $('#txtOption1').val();
					question.response2 = $('#txtOption2').val();
					question.response3 = $('#txtOption3').val();
					question.response4 = $('#txtOption4').val();
					question.answer = $('#slctAnswer').val();
					question.type = $('#slctQuestionType').val();

					games.questions.push(question);
					games.questionCounter++;

					break;

				case 'media':
					question.id = games.questionCounter + 1;
					question.image = config.api_url + "/image/" + games.questionImage;
					question.question = $('#txtQuestion').val();
					question.response1 = $('#txtOption1').val();
					question.response2 = $('#txtOption2').val();
					question.response3 = $('#txtOption3').val();
					question.response4 = $('#txtOption4').val();
					question.answer = $('#slctAnswer').val();
					question.type = $('#slctQuestionType').val();

					games.questions.push(question);
					games.questionCounter++;

					break;


				case 'survey':

					question.id = games.questionCounter + 1;
					question.surveyType = $('#slctSurveyType').val();
					question.question = $('#txtQuestionSurvey').val();
					question.response1 = $('#txtOption1Survey').val();
					question.response2 = $('#txtOption2Survey').val();
					question.response3 = $('#txtOption3Survey').val();
					question.response4 = $('#txtOption4Survey').val();
					question.type = $('#slctQuestionType').val();

					games.questions.push(question);
					games.questionCounter++;



					break;
				default:
					break;
					// code block
			}

			$('.question-input').val('');
			games.addQuestion_load();
			games.addQuestion_cancel();
			$('#slctQuestionType').val('trivia');
			$('#slctAnswer').val('1');
			$('#slctTheme').val(games.currentGame.themeID);
			$('.selectpicker').selectpicker('refresh');

			games.selectQuestionType();




		},

		addQuestion_modal:function(id)
		{
			//perform AJAX call to the API to get our data...
			var guid = docCookies.getItem('strong_guid');
			var url = config.api_url + "/catalog_questions/" + id;
			var params = {};

			//perform the call
			fetch(url,{
				method: 'GET',
			}).then(function (response)
			{
				return response.json();
			})
					.then(function(data) {

						console.log(data)

						var question = {};

						data["type"] = data["type"].toLowerCase();
						// question.id = games.questionCounter + 1;
						// question.question = data["question"];
						// question.response1 = data["answer1"];
						// question.response2 = data["answer2"];
						// question.response3 = data["answer3"];
						// question.response4 = data["answer4"];
						// question.answer = data["correct_answer"];
						// question.type = data["type"].toLowerCase();
						//
						// console.log(question);
						//
						// games.questions.push(question);
						// games.questionCounter++;
						//
						// console.log(games.questions);
						//
						// $('#exampleModal3').modal('toggle');
						//
						// games.addQuestion_load();


						switch(data["type"])
						{
							case 'trivia':

								question.id = games.questionCounter + 1;
								question.question = data["question"];
								question.response1 = data["answer1"];
								question.response2 = data["answer2"];
								question.response3 = data["answer3"];
								question.response4 = data["answer4"];
								question.answer = data["correct_answer"];
								question.type = data["type"].toLowerCase();

								games.questions.push(question);
								games.questionCounter++;


								break;
							case 'social':


								question.id = games.questionCounter + 1;
								question.entryQuestion = data["question"]
								question.displayQuestion = data["answer1"]
								question.displayTitle = data["answer2"]
								question.answer = data["answer"]
								question.type = data["type"];

								var formItem = {};

								formItem.question = question.id;
								formItem.type = "text";
								formItem.title = question.entryQuestion;


								games.questions.push(question);
								games.formItems.push(formItem);
								games.questionCounter++;


								break;
							case 'image':
								question.id = games.questionCounter + 1;
								question.image = config.api_url + "/image/" + games.questionImage;
								question.question = data["question"]
								question.response1 = data["response1"]
								question.response2 = data["response2"]
								question.response3 = data["response3"]
								question.response4 = data["response4"]
								question.answer = data["answer"]
								question.type = data["type"]

								games.questions.push(question);
								games.questionCounter++;

								break;

							case 'media':
								question.id = games.questionCounter + 1;
								question.image = config.api_url + "/image/" + games.questionImage;
								question.question = data["question"]
								question.response1 = data["response1"]
								question.response2 = data["response2"]
								question.response3 = data["response3"]
								question.response4 = data["response4"]
								question.answer = data["answer"]
								question.type = data["type"]

								games.questions.push(question);
								games.questionCounter++;

								break;


							case 'survey':

								question.id = games.questionCounter + 1;
								question.surveyType = data["surveyType"]
								question.question = data["question"]
								question.response1 = data["response1"]
								question.response2 = data["response2"]
								question.response3 = data["response3"]
								question.response4 = data["response4"]
								question.type = data["type"]

								games.questions.push(question);
								games.questionCounter++;



								break;
							default:
								break;
								// code block
						}
						$('#exampleModal3').modal('toggle');
						games.addQuestion_load();
					});

		},


		//-----------------------------------------------------------------------------
		//       name: addQuestion_load()
		//Description:
		//-----------------------------------------------------------------------------
		addQuestion_load:function()
		{


			var html = "";

			console.log(games.questions);
			console.log(games.formItems);
			for(var i = 0; i < games.questions.length; i++)
			{

				html += '<tr class="question-row" data-index="' + i + '">';
				html += '<td>' + games.questions[i].type + '</td>';


				if(games.questions[i].type == 'trivia')
				{
					html += '<td>' + games.questions[i].question + '</td>';
					html += '<td>';
					html += '<ol>';
					html += '<li> - ' + games.questions[i].response1 + '</li>';
					html += '<li> - ' + games.questions[i].response2 + '</li>';
					html += '<li> - ' + games.questions[i].response3 + '</li>';
					html += '<li> - ' + games.questions[i].response4 + '</li>';
					html += '</ol>';
					html += '</td>';
					html += '<td>' + games.questions[i].answer + '</td>';
				}
				else if(games.questions[i].type == 'social')
				{
					html += '<td>' + games.questions[i].entryQuestion + '</td>';
					html += '<td>';
					html += '<ul>';
					html += '<li> <strong>On App</strong> - ' + games.questions[i].displayQuestion + '</li>';
					html += '<li> <strong>On TV</strong> - ' + games.questions[i].displayTitle + '</li>';
					html += '</ul>';
					html += '</td>';
					html += '<td>By Player</td>';
				}

				else if(games.questions[i].type == 'image' || games.questions[i].type == 'media')
				{
					html += '<td>' + games.questions[i].question + '</td>';
					html += '<td>';
					html += '<ol>';
					html += '<li> - ' + games.questions[i].response1 + '</li>';
					html += '<li> - ' + games.questions[i].response2 + '</li>';
					html += '<li> - ' + games.questions[i].response3 + '</li>';
					html += '<li> - ' + games.questions[i].response4 + '</li>';
					html += '</ol>';
					html += '</td>';
					html += '<td>' + games.questions[i].answer + '</td>';
				}


				else if(games.questions[i].type == 'survey')
				{
					html += '<td>' + games.questions[i].question + '</td>';
					html += '<td>';

					if(games.questions[i].surveyType == "choice")
					{
						html += '<ol>';
						html += '<li> - ' + games.questions[i].response1 + '</li>';
						html += '<li> - ' + games.questions[i].response2 + '</li>';
						html += '<li> - ' + games.questions[i].response3 + '</li>';
						html += '<li> - ' + games.questions[i].response4 + '</li>';
						html += '</ol>';
					}
					else
					{
						html += "This is an open text question";
					}

					html += '</td>';
					html += '<td></td>';
				}





				html += '<td class="td-actions text-right">';
				html += '<button type="button" onclick="games.editQuestion(' + games.questions[i].id + ')" class="btn btn-warning" data-toggle="tooltip" rel="" data-placement="bottom" title="Edit Question">';
				html += '<i class="material-icons">edit</i>';
				html += '</button>';
				html += '&nbsp;&nbsp;<button type="button" onclick="games.addQuestion_delete(' + games.questions[i].id + ')" class="btn btn-danger" rel="" data-toggle="tooltip" data-placement="bottom" title="Delete Question">';
				html += '<i class="material-icons">delete</i>';
				html += '</button>';
				html += '</td>';
				html += '</tr>';
			}

			$('#tblQuestions > tbody').html(html);

			$( "#tblQuestions tbody" ).sortable({update: function( event, ui ) {games.updateQuestionIndex();}});
			$( "#tblQuestions tbody" ).disableSelection();






		},

		//-----------------------------------------------------------------------------
		//       name: addQuestion_delete()
		//Description:
		//-----------------------------------------------------------------------------
		addQuestion_delete:function(id)
		{

			for(var i = 0; i < games.questions.length; i++)
			{
				if(games.questions[i].id == id)
				{
					games.questions.splice(i,1);
					break;
				}
			}

			for(var i = 0; i < games.formItems.length; i++)
			{
				if(games.formItems[i].question == id)
				{
					games.formItems.splice(i,1);
					break;
				}
			}

			games.addQuestion_load();

		},


		//-----------------------------------------------------------------------------
		//       name: editQuestion()
		//Description:
		//-----------------------------------------------------------------------------
		editQuestion:function(id)
		{


			$('.panel').hide();
			$('#subPnlSurveyChoice').hide();
			$('#subPnlImage').hide();
			$('#subPnlSurvey').hide();
			$('#subPnlSocial').hide();
			//$('#subPnlTrivia').hide();
			$('#pnlQuestionForm').fadeIn();
			$('#lblQuestionTitle').html("Update Question");

			$('#btnEditQuestion').show();
			$('#btnAddQuestion').hide();

			$('#txtQuestion').val("");
			$('#txtOption1').val("");
			$('#txtOption2').val("");
			$('#txtOption3').val("");
			$('#txtOption4').val("");
			$('#slctAnswer').val("");
			$('#slctQuestionType').val("");
			$('#slctSurveyType').val("");
			$('#txtQuestionSurvey').val("");
			$('#txtOption1Survey').val("");
			$('#txtOption2Survey').val("");
			$('#txtOption3Survey').val("");
			$('#txtOption4Survey').val("");
			$('#slctQuestionType').val("");


			var question = {};
			for(var i = 0; i < games.questions.length; i++)
			{
				if(games.questions[i].id == id)
				{
					question = games.questions[i];
					break;
				}
			}


			$('#questionID').val(question.id);

			switch(question.type)
			{
				case 'trivia':

					$('#txtQuestion').val(question.question);
					$('#txtOption1').val(question.response1);
					$('#txtOption2').val(question.response2);
					$('#txtOption3').val(question.response3);
					$('#txtOption4').val(question.response4);
					$('#slctAnswer').val(question.answer);
					$('#slctQuestionType').val(question.type);


					break;
				case 'social':


					$('#txtEntryText').val(question.entryQuestion);
					$('#txtAppText').val(question.displayQuestion);
					$('#txtViewerText').val(question.displayTitle);
					$('#slctQuestionType').val(question.type);

					break;
				case 'image':

					$('#txtQuestion').val(question.question);
					$('#txtOption1').val(question.response1);
					$('#txtOption2').val(question.response2);
					$('#txtOption3').val(question.response3);
					$('#txtOption4').val(question.response4);
					$('#slctAnswer').val(question.answer);
					$('#slctQuestionType').val(question.type);

					break;
				case 'media':

					$('#txtQuestion').val(question.question);
					$('#txtOption1').val(question.response1);
					$('#txtOption2').val(question.response2);
					$('#txtOption3').val(question.response3);
					$('#txtOption4').val(question.response4);
					$('#slctAnswer').val(question.answer);
					$('#slctQuestionType').val(question.type);

					break;
				case 'survey':

					$('#slctSurveyType').val(question.surveyType);
					$('#txtQuestionSurvey').val(question.question);
					$('#txtOption1Survey').val(question.response1);
					$('#txtOption2Survey').val(question.response2);
					$('#txtOption3Survey').val(question.response3);
					$('#txtOption4Survey').val(question.response4);
					$('#slctQuestionType').val(question.type);
					games.selectSurveyType();

					break;
				default:
					break;
					// code block
			}

			$('.selectpicker').selectpicker('refresh');

			games.selectQuestionType();



		},


		//-----------------------------------------------------------------------------
		//       name: updateQuestionIndex()
		//Description:
		//-----------------------------------------------------------------------------
		updateQuestionIndex:function()
		{
			var tempQuestions = [];
			var counter = 1;

			$('.question-row').each(function() {
				var newIndex = $(this).data("index");

				tempQuestions.push(games.questions[newIndex]);

				/*
                //if a social question, update the question ID on the related form item...
                if(games.questions[newIndex].type == "social")
                {
                    for(var i = 0; i < games.formItems.length; i ++)
                    {
                        if(games.formItems[i].question == games.questions[newIndex].id)
                        {
                            console.log("form item updated for question - " + games.questions[newIndex].id);
                            console.log("New index is - " + counter);
                            games.formItems[i].question = counter;
                        }
                    }
                }
                */
				counter++;

			});

			games.questions = tempQuestions;

			games.addQuestion_load();

			console.log(games.questions);
			console.log(games.formItems);
		},

		//-----------------------------------------------------------------------------
		//       name: editQuestion_submit()
		//Description:
		//-----------------------------------------------------------------------------
		editQuestion_submit:function()
		{


			//delete the old version of the question...
			//games.addQuestion_delete($('#questionID').val());


			//get the index of the updated question...
			for(var i = 0; i < games.questions.length; i++)
			{
				if(games.questions[i].id == $('#questionID').val())
				{
					var index = i;
				}
			}




			//re-add the modified question...
			var question = {};
			switch($('#slctQuestionType').val())
			{
				case 'trivia':
					question.id = $('#questionID').val();
					question.question = $('#txtQuestion').val();
					question.response1 = $('#txtOption1').val();
					question.response2 = $('#txtOption2').val();
					question.response3 = $('#txtOption3').val();
					question.response4 = $('#txtOption4').val();
					question.answer = $('#slctAnswer').val();
					question.type = $('#slctQuestionType').val();

					games.questions[index] = question;
					//games.questionCounter++;


					break;
				case 'social':
					question.id = $('#questionID').val();
					question.entryQuestion = $('#txtEntryText').val();
					question.displayQuestion = $('#txtAppText').val();
					question.displayTitle = $('#txtViewerText').val();
					question.answer = [];
					question.type = $('#slctQuestionType').val();

					var formItem = {};

					formItem.question = question.id;
					formItem.type = "text";
					formItem.title = question.entryQuestion;

					//better find the index for the related form item...
					for(var i = 0; i < games.formItems.length; i++)
					{
						if(games.formItems[i].question == $('#questionID').val())
						{
							var formIndex = i;
							console.log("found form index");
						}
					}


					games.questions[index] = question;
					games.formItems[formIndex] = formItem;
					//games.questionCounter++;


					break;
				case 'image':
					question.id = $('#questionID').val();
					question.image = config.api_url + "/image/" + games.questionImage;
					question.question = $('#txtQuestion').val();
					question.response1 = $('#txtOption1').val();
					question.response2 = $('#txtOption2').val();
					question.response3 = $('#txtOption3').val();
					question.response4 = $('#txtOption4').val();
					question.answer = $('#slctAnswer').val();
					question.type = $('#slctQuestionType').val();

					games.questions[index] = question;
					//games.questionCounter++;

					break;
				case 'media':
					question.id = $('#questionID').val();
					question.image = config.api_url + "/image/" + games.questionImage;
					question.question = $('#txtQuestion').val();
					question.response1 = $('#txtOption1').val();
					question.response2 = $('#txtOption2').val();
					question.response3 = $('#txtOption3').val();
					question.response4 = $('#txtOption4').val();
					question.answer = $('#slctAnswer').val();
					question.type = $('#slctQuestionType').val();

					games.questions[index] = question;
					//games.questionCounter++;

					break;
				case 'survey':
					question.id = $('#questionID').val();
					question.surveyType = $('#slctSurveyType').val();
					question.question = $('#txtQuestionSurvey').val();
					question.response1 = $('#txtOption1Survey').val();
					question.response2 = $('#txtOption2Survey').val();
					question.response3 = $('#txtOption3Survey').val();
					question.response4 = $('#txtOption4Survey').val();
					question.type = $('#slctQuestionType').val();

					games.questions[index] = question;
					//games.questionCounter++;



					break;
				default:
					break;
					// code block
			}

			$('.question-input').val('');
			games.addQuestion_load();
			games.addQuestion_cancel();
			$('#slctTheme').val(games.currentGame.themeID);
			$('.selectpicker').selectpicker('refresh');




		},

		//-----------------------------------------------------------------------------
		//       name: selectSurveyType()
		//Description:
		//-----------------------------------------------------------------------------
		selectSurveyType:function()
		{

			if($('#slctSurveyType').val() == "choice")
			{
				$('#subPnlSurveyChoice').fadeIn();
			}
			else
			{
				$('#subPnlSurveyChoice').fadeOut();
			}

		},





		//-----------------------------------------------------------------------------
		//       name: addTeam()
		//Description:
		//-----------------------------------------------------------------------------
		addTeam:function()
		{

			var guid = docCookies.getItem('strong_guid');
			var url = config.api_url + "/teams/user/" + guid;
			var params = {};

			//perform the call
			fetch(url,{
				method: 'GET',
			}).then(function (response)
			{
				return response.json();
			})
					.then(function(data)
					{

						var html = "";
						games.defaultTeams = data;

						console.log(data);
						for(var i = 0; i < data.length; i++)
						{

							//console.log(data[i]);

							html += '<option value="' + i + '">' + data[i].name + '</option>'
						}

						$('#slctTeam').html(html);
						$('.selectpicker').selectpicker('refresh');

					});



			$('.panel').hide();
			$('#pnlTeamForm').fadeIn();
			$('#lblTeamTitle').html("Add Team");
			$('.selectpicker').selectpicker('refresh');
		},

		//-----------------------------------------------------------------------------
		//       name: addTeam_submit()
		//Description:
		//-----------------------------------------------------------------------------
		addTeam_submit:function()
		{

			var team = {};


			team.id = games.teamCounter + 1;
			team.score = 0;
			team.players = [];
			team.image = "";

			var index = $('#slctTeam').val();

			console.log(index);

			if($('#txtTeam').val() != "")
			{

				team.name = $('#txtTeam').val();
			}
			else
			{
				team.name = games.defaultTeams[index].name;
				team.image = config.api_url + "/teams/image/" + games.defaultTeams[index].image.replace(/"/g, "");
			}

			console.log(team);

			games.teams.push(team);
			games.teamCounter++;

			$('#pnlTeamForm').hide();
			$('#pnlGameForm').fadeIn();


			games.addTeam_load();

		},


		//-----------------------------------------------------------------------------
		//       name: addTeam_delete()
		//Description:
		//-----------------------------------------------------------------------------
		addTeam_delete:function(id)
		{

			for(var i = 0; i < games.teams.length; i++)
			{
				if(games.teams[i].id == id)
				{
					games.teams.splice(i,1);
					break;
				}
			}

			games.addTeam_load();

		},

		//-----------------------------------------------------------------------------
		//       name: addTeam_cancel()
		//Description:
		//-----------------------------------------------------------------------------
		addTeam_cancel:function()
		{

			$('#pnlTeamForm').hide();
			$('#pnlGameForm').fadeIn();


		},



		//-----------------------------------------------------------------------------
		//       name: addTeam_load()
		//Description:
		//-----------------------------------------------------------------------------
		addTeam_load:function()
		{


			var html = "";

			for(var i = 0; i <games.teams.length; i++)
			{
				html += '<tr>';
				html += '<td>' + games.teams[i].name + '</td>';
				html += '<td class="td-actions text-right">';
				html += '<button type="button" class="btn btn-danger" data-toggle="tooltip" data-placement="bottom" title="Survey Results" onclick="games.addTeam_delete(' + games.teams[i].id +')">';
				html += '<i class="material-icons">delete</i>';
				html += '</button>';
				html += '</td>';
				html += '</tr>';
			}

			$('#tblTeams > tbody').html(html);
			$('#txtTeam').val('');
			$('#slctTeam').val('');

		},










	};

	function getUrlVars()
	{
		var vars = {};
		var parts = window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, function(m,key,value) {
			vars[key] = value;
		});
		//console.log("vars");
		//console.log(vars);
		return vars;

	}


	function getUrlParam(parameter, defaultvalue){
		var urlparameter = defaultvalue;
		if(window.location.href.indexOf(parameter) > -1){
			urlparameter = getUrlVars()[parameter];
		}

		return urlparameter;
	}



</script>

<script src="./src/vendor/material-ui/js/material-dashboard.js?v=2.1.0" type="text/javascript"></script>
<script src="./src/vendor/material-ui/js/plugins/bootstrap.js" type="text/javascript"></script>
